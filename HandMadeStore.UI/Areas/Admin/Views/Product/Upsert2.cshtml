@model ProductVM
@{
    ViewData["Title"] = (Model.Product.Id == 0 ? "Create Product" : "Update Product");




}
<form method="post" asp-action="Upsert" enctype="multipart/form-data">
    <div>

        <h2 class="text-primary">@(Model.Product.Id == 0 ? "Create" : "Update") Product</h2>
        <hr />

        <div asp-validation-summary="ModelOnly" class="text-danger">
        </div>
        <div class="mb-3">
            <label asp-for="Product.Name"></label>
            <input asp-for="Product.Name" class="form-control" />
            <span asp-validation-for="Product.Name" class="text-danger"></span>
        </div>
        <div class="mb-3">
            <label asp-for="Product.Description"></label>

            <textarea asp-for="Product.Description" class="form-control" rows="3"></textarea>
            <span asp-validation-for="Product.Description" class="text-danger"></span>
        </div>
        <div class="row">
            <div class="mb-3 col-sm-4">
                <label asp-for="Product.Price"></label>
                <input asp-for="Product.Price" class="form-control" />
                <span asp-validation-for="Product.Price" class="text-danger"></span>
            </div>

            <div class="mb-3 col-sm-4">
                <label asp-for="Product.Price10plus"></label>
                <input asp-for="Product.Price10plus" class="form-control" />
                <span asp-validation-for="Product.Price10plus" class="text-danger"></span>
            </div>
            <div class="mb-3 col-sm-4">
                <label asp-for="Product.Price30plus"></label>
                <input asp-for="Product.Price30plus" class="form-control" />
                <span asp-validation-for="Product.Price30plus" class="text-danger"></span>
            </div>


        </div>
        <div class="row">
            <div class="mb-3 col-sm-12">
                <label asp-for="Product.ImageUrl"></label>
                <input id="imgurlupload" name="imagurl" asp-for="Product.ImageUrl" class="form-control" type="file" />
                <span asp-validation-for="Product.ImageUrl" class="text-danger"></span>
            </div>
            <div class="mb-5 col-sm-6">
                <label asp-for="Product.CategoryId"></label>
                @*  <select asp-for="CategoryId" asp-items="ViewBag.Categorylist" class="form-select">
                <option disabled selected>---Select Category---</option>

                </select>  *@

                <select asp-for="Product.CategoryId" asp-items="@Model.Categorylist" class="form-select">
                    <option disabled selected>---Select Category---</option>

                </select>
                <span asp-validation-for="Product.CategoryId" class="text-danger"></span>
            </div>


            <div class="mb-3 col-sm-6">
                <label asp-for="Product.BrandId"></label>
                @*  <select asp-for="Product.BrandId" asp-items="@ViewData["Brandlist"] as IEnumerable<SelectListItem>" class="form-select">
                <option disabled selected>---Select Brand---</option>

                </select> *@

                <select asp-for="Product.BrandId" asp-items="@Model.Brandlist" class="form-select">
                    <option disabled selected>---Select Brand---</option>

                </select>
                <span asp-validation-for="Product.BrandId" class="text-danger"></span>
            </div>



        </div>
        <div class="d-flex justify-content-between mt-3">
            @if (Model.Product.Id != 0)
            {

                <button type="submit" class="btn btn-primary w-50 me-1">  <i class="bi bi-pencil-square"></i> &nbsp; Update Product</button>

            }
            else
            {

                <button onclick="InputImageURL();" id="InputImageURL" type="submit" class="btn btn-primary w-50 me-1">  <i class="bi bi-plus-square"></i> &nbsp; Create Product</button>

            }

            <a asp-action="Index" class="btn btn-secondary w-50">
                <i class="bi bi-arrow-left-square"></i> &nbsp; Back to List
            </a>
        </div>
    </div>



</form>


@section Scripts{


    <partial name="_ValidationScriptsPartial" />
  




    }



    <script type="text/javascript">

    $(document).on('click', '#InputImageURL', function () {
        if ($("#imgurlupload").val() == "") {

                    Swal.fire({
                        icon: "error",
                        title: "Oops...",
                        text: "Please Upload Image File"

                    });
                }
    })



    // const InputImageURL = () => {
    //     alert('offf');
    //     if ($("#imgurlupload").val() == "") {

    //         Swal.fire({
    //             icon: "error",
    //             title: "Oops...",
    //             text: "Please Upload Image File"

    //         });
    //     }
    </script>


@* <script type="text/javascript">


    $(document).on('click', '#imgurlupload', function () {
        alert("The paragraph was clicked.");
    })




    const InputImageURL = () => {
        alert('offf');
        if ($("#imgurlupload").val() == "") {

            Swal.fire({
                icon: "error",
                title: "Oops...",
                text: "Please Upload Image File"

            });
        }

    }
</script> *@
